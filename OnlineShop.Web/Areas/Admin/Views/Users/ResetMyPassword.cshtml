@model OnlineShop.Web.ViewModels.ResetMyPasswordViewModel

@{
    ViewBag.Title = "کاربران";
}
@*<input type="hidden" id="nav_active" value="auth_control">
<input type="hidden" id="nav_item_active" value="users">*@
@{
    if (ViewBag.Message != null)
    {
        <div class="alert alert-danger">
            <strong>خطا!</strong> @ViewBag.Message
        </div>
    }
}
<div class="col-lg-12">
    <div class="card card-custom gutter-b">
        @*<div class="card-header">
            <h3 class="card-title">
                بروزرسانی رمز عبور
            </h3>
        </div>*@
        @using (Html.BeginForm("ResetMyPassword", "Users", FormMethod.Post, new {id="form"}))
        {
            @Html.AntiForgeryToken()

            <div class="card-body">
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                <input type="hidden" name="UserId" id="UserId" value="@ViewBag.UserId" />
                <div class="row">
                    <div class="col-lg-12">
                        <div class="form-group">
                            @Html.LabelFor(model => model.OldPassword, new { })
                            <div class="col-md-10">
                                @Html.EditorFor(model => model.OldPassword, new { htmlAttributes = new { @class = "form-control " } })
                                @Html.ValidationMessageFor(model => model.OldPassword, "", new { @class = "form-text text-danger" })
                            </div>
                        </div>
                        <div class="form-group">
                            @Html.LabelFor(model => model.Password, new { })
                            <div class="col-md-10">
                                @Html.EditorFor(model => model.Password, new { htmlAttributes = new { @class = "form-control " } })
                                @Html.ValidationMessageFor(model => model.Password, "", new { @class = "form-text text-danger" })
                            </div>
                        </div>
                        <div class="form-group">
                            @Html.LabelFor(model => model.ConfirmPassword, new { })
                            <div class="col-md-10">
                                @Html.EditorFor(model => model.ConfirmPassword, new { htmlAttributes = new { @class = "form-control " } })
                                @Html.ValidationMessageFor(model => model.ConfirmPassword, "", new { @class = "form-text text-danger" })
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-footer">
                @*<a href="@Url.Action("Index")" class="btn btn-secondary">انصراف</a>*@
                <input type="submit" value="ثبت" class="btn btn-primary mr-2" />
            </div>
        }
    </div>
</div>
<script>
    $.validator.unobtrusive.parse("#form");
</script>
@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script>
        new KTImageInput('user-avatar');
    </script>
}
